<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MDB2 Errors</title>
</head>
<body>
<a href="../index.php">return to index page</a>
<form action="error_db.php" method="POST">
<table>
<tr><td colspan="2">
    <table>
    <tr><td>db type</td><td><input type="text" name="dsn[phptype]" value="<?php echo $dsn['phptype']; ?>"/></td></tr>
    <tr><td>host</td><td><input type="text" name="dsn[hostspec]" value="<?php echo $dsn['hostspec']; ?>"></td></tr>
    <tr><td>username</td><td><input type="text" name="dsn[username]" value="<?php echo $dsn['username']; ?>"/></td></tr>
    <tr><td>password</td><td><input type="text" name="dsn[password]" value="<?php echo $dsn['password']; ?>"/></td></tr>
    <tr><td>db name</td><td><input type="text" name="dsn[database]" value="<?php echo $dsn['database']; ?>"/></td></tr>
    </table>
</td><tr>
<tr><td>
    <table>
        <tr><td><button name="connect" value="-1">OA_DB Connect: -1</button></td></tr>
        <tr><td><button name="connect" value="0">DSN Error 0: Custom</button></td></tr>
        <tr><td><button name="connect" value="1">DSN Error 1: No DBMS</button></td></tr>
        <tr><td><button name="connect" value="2">DSN Error 2: No Host</button></td></tr>
        <tr><td><button name="connect" value="3">DSN Error 3: No Username</button></td></tr>
        <tr><td><button name="connect" value="4">DSN Error 4: No Password</button></td></tr>
        <tr><td><button name="connect" value="5">DSN Error 5: No Database</button></td></tr>
        <tr><td><button name="connect" value="6">DSN Error 6: Wrong DBMS</button></td></tr>
        <tr><td><button name="connect" value="7">DSN Error 7: Wrong Host</button></td></tr>
        <tr><td><button name="connect" value="8">DSN Error 8: Wrong Username</button></td></tr>
        <tr><td><button name="connect" value="9">DSN Error 9: Wrong Password</button></td></tr>
        <tr><td><button name="connect" value="10">DSN Error 10: Wrong Database</button></td></tr>
    </table>
</td>
<td>
    <table>
        <tr><td><button name="create" value="0">Create Error 0: Custom</button></td></tr>
        <tr><td><button name="create" value="1">Create Error 1: No Error</button></td></tr>
        <tr><td><button name="create" value="2">Create Error 2: Storage Type/Index Error</button></td></tr>
        <tr><td><button name="create" value="3">Create Error 3: Reserved Word Error</button></td></tr>
        <tr><td><button name="create" value="4">Create Error 4: No Datatype Type</button></td></tr>
        <tr><td><button name="create" value="5">Create Error 5: Invalid Datatype Type</button></td></tr>
    </table>
</td><tr>

    <!--tr><td><button name="filesys" value="1">Filesystem Error 1: XML file does not exist </button></td></tr>
    <tr><td><button name="filesys" value="2">Filesystem Error 2: XML file is not writeable </button></td></tr-->

    </table>
</td></tr>
<table>
</form>
<div>
<?php
    if ($err)
    {
        print "<h3 style='color:red;'>ERROR</h3><pre>{$err}</pre>";
    }
    else
    {
        print "<h3>NO ERROR</h3>";
    }
?>
</div>
<div>
<?php
    if ($oDbh)
    {
        if (PEAR::isError($oDbh))
        {
            print "<h3>OA_DB Error</h3>";
            $err = $oDbh->getUserInfo();
            print "<pre>{$err}</pre>";
        }
        else
        {
            print "<h3>OA_DB Connection</h3>";
            foreach ($oDbh->connected_dsn AS $k => $v)
            {
                print $k.' => '.$v."<br />";
            }
        }
    }
?>
</div>
</body>
</html>