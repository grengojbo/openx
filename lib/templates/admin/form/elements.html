{*<!--
+---------------------------------------------------------------------------+
| OpenX v${RELEASE_MAJOR_MINOR}                                             |
| ======${RELEASE_MAJOR_MINOR_DOUBLE_UNDERLINE}                             |
|                                                                           |
| Copyright (c) 2003-2008 OpenX Limited                                     |
| For contact details, see: http://www.openx.org/                           |
|                                                                           |
| This program is free software; you can redistribute it and/or modify      |
| it under the terms of the GNU General Public License as published by      |
| the Free Software Foundation; either version 2 of the License, or         |
| (at your option) any later version.                                       |
|                                                                           |
| This program is distributed in the hope that it will be useful,           |
| but WITHOUT ANY WARRANTY; without even the implied warranty of            |
| MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the             |
| GNU General Public License for more details.                              |
|                                                                           |
| You should have received a copy of the GNU General Public License         |
| along with this program; if not, write to the Free Software               |
| Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA |
+---------------------------------------------------------------------------+
$Id: main.html 17781 2008-03-18 10:54:53Z bernard.lange@openx.org $

-->*}

{if $_e.type == 'header'}
{* open section *}
<table class="section" border='0' width='100%' cellpadding='0' cellspacing='0'>
<tr><td height='25' colspan='3'>{if $_e.icon}<img src='{$assetPath}/images/{$_e.icon}' align='absmiddle'>&nbsp;{/if}<b>{$_e.header}</b></td></tr>
<tr height='1'><td width='30'><img src='{$assetPath}/images/break.gif' height='1' width='30'></td>
<td width='200'><img src='{$assetPath}/images/break.gif' height='1' width='200'></td>
<td width='100%'><img src='{$assetPath}/images/break.gif' height='1' width='100%'></td></tr>
<tr><td height='10' colspan='3'>&nbsp;</td></tr>
    {if $_e.errors}
    {* section errors *}
    <tr><td>&nbsp;</td><td height='10' colspan='2'>
    <table cellpadding='0' cellspacing='0' border='0'><tr><td>
    <img src='{$assetPath}/images/error.gif' align='absmiddle'>&nbsp;
    {foreach item=_eErr from=$_e.errors}
        <font color='#AA0000'><b>{$_eErr}</b></font><br />
    {/foreach}
    </td></tr></table></td></tr><tr><td height='10' colspan='3'>&nbsp;</td></tr>
    <tr><td><img src='{$assetPath}/images/spacer.gif' height='1' width='100%'></td>
    <td colspan='2'><img src='{$assetPath}/images/break-l.gif' height='1' width='200' vspace='6'></td></tr>
    {/if}

    {* display section content *}
    {$_e.content}
    
    {* close section *}    
    <tr>
        <td height='10' colspan='3'>&nbsp;</td>
    </tr>
</table>
{/if}

{if $_e.type == 'controls'}
    {* open controls *}
    <div class="controls">
        {* display form controls *}
        {$_e.content}
        {* close form controls *}    
    </div>
{/if}

{*break*}
{if $_e.type != 'header' && $_e.type != 'controls' && $_e.type != 'hidden' && $_e.type != 'script' && $_e.type != 'plugin-script' && $_e.break}
    <tr>
        <td><img src='{$assetPath}/images/spacer.gif' height='1' width='30'></td>
        <td colspan='1'><img src='{$assetPath}/images/break-l.gif' height='1' width='200' vspace='6'></td>
        <td><img src='{$assetPath}/images/spacer.gif' height='1' width='100%'>
    </tr>
{/if}

{if $_e.type == "group"}
    <tr> {* TODO? refactor to use fetch recursively, would have to discover if parent set and do not render additional markup *}
        <td width='30'>&nbsp;</td>
        {if $_e.label}
            <td width='200'>{$_e.label} {if $_e.required}<font color="red">*</font>{/if}</td>
        {/if}
        <td {if $_e.label}width='100%'{else}colspan='2'{/if}>
            {*cycle name=gsep reset=true values=$_e.separator*}
            {foreach key=gkey item=groupItem from=$_e.elements}
                {if $groupItem.type == "group"}
                    {*cycle name=sgsep reset=true values=$subGroupItem.separator*}
                    {foreach key=sgkey item=subGroupItem from=$groupItem.elements}
	                    {if $subGroupItem.type == 'custom'}
	                        {include file=$oaTemplateDir|cat:'form/custom-'|cat:$subGroupItem.name|cat:'.html'}
	                    {else}
	                        {if $groupItem.decorators}
	                             {$groupItem.decorators.prepend}
	                        {/if}
	                        {if $subGroupItem.labelPlacement == "after"}
	                            {$subGroupItem.html} {$subGroupItem.label}
	                        {else}
	                            {$subGroupItem.label} {$subGroupItem.html}
	                        {/if}
	                        {if $groupItem.decorators}
	                            {$groupItem.decorators.append}
	                        {/if}
	                    {/if}
                        {if $subGroupItem.separator}{cycle name=sgsep values=$subGroupItem.separator}{/if}
                    {/foreach}
                {else}
                    {if $groupItem.type == 'custom'}
                        {include file=$oaTemplateDir|cat:'form/custom-'|cat:$groupItem.name|cat:'.html'}
                    {else}
                         {if $groupItem.decorators}
                             {$groupItem.decorators.prepend}
                         {/if}
	                    {if $groupItem.labelPlacement == "after"}
	                       {$groupItem.html} {$groupItem.label}
	                    {else}
	                        {$groupItem.label} {$groupItem.html}
	                    {/if}
                        {if $groupItem.decorators}
                            {$groupItem.decorators.append}
                        {/if}
                    {/if}
                {/if}
                {if $_e.separator}{cycle name=gsep values=$_e.separator}
                {/if}
            {/foreach}
        </td>
    </tr>

{/if}

{if $_e.type == 'static'}
    <tr>
        <td width='30'>&nbsp;</td><td width='200'>{$_e.label}</td>
        <td width='100%'>
            {$_e.html}
        </td>
    </tr>
{/if}

{if $_e.type == 'html'}
    <tr>
        <td width='30'>&nbsp;</td><td width='200'></td>
        <td width='100%'>
            {$_e.html}
        </td>
    </tr>
{/if}

{if $_e.type == 'hidden'}
    <input type='hidden' id="{$_e.name|escape}" name="{$_e.name|escape}" value="{$_e.value|escape}">
{/if}

{if $_e.type == 'text' || $_e.type == 'password' || !$_e.type}
    <tr>
        <td width='30'>&nbsp;</td><td width='200'><label for="{$_e.id|default:$_e.name|escape}">{$_e.label} {if $_e.required}<font color="red">*</font>{/if}</label></td>
        <td width='100%'>
        {if $_e.frozen}
            {$_e.value|escape}
        {else}
            <input id="{$_e.id|default:$_e.name|escape}" class="{if $_e.clientValid} {ldelim}{$_e.clientValid}{rdelim}{/if}" type="{$_e.type|default:'text'}"
                name="{$_e.name|escape}" value="{$_e.value|escape}"
                {if $_e.id != ''}id="{$_e.id|escape}"{/if}
                {if $_e.style == 'small'}size="25"{else} size="35" style="width:350px;"{/if}
                {if $_e.disabled} disabled="disabled"{/if}
                {if $_e.maxlength} maxlength="{$_e.maxlength}"{/if}
                {if $_e.title} title="{$_e.title}"{/if}>
                
                {if $_e.error}<font color="red">{$_e.error}</font>{/if}                
        {/if}
        </td>
    </tr>
{/if}

{if $_e.type == 'textarea'}
    <tr>
        <td width='30'>&nbsp;</td><td width='200'>{$_e.label} {if $_e.required}<font color="red">*</font>{/if}</td>
        <td width='100%'>
            <textarea cols='45' rows='6' name='{$_e.name|escape}' wrap='off' dir='ltr' style='width:350px;'{if $_e.disabled} disabled="disabled"{/if}>{$_e.value|escape}</textarea>
        </td>
    </tr>
{/if}

{if $_e.type == 'select'}
    <tr>
        <td width='30'>&nbsp;</td><td width='200'>{$_e.label} {if $_e.required}<font color="red">*</font>{/if}</td>
        <td width='100%'>
            {*
            <select name="{$_e.name|escape}"{if $_e.style == 'big'} style="width:350px;"{elseif $_e.style} style="{$_e.style}"{/if}{if $_e.disabled} disabled="disabled"{/if}>
            {html_options options=$_e.options selected=$_e.value}
            </select>
            *}
            {$_e.html}            
        </td>
    </tr>
{/if}

{if $_e.type == 'checkbox'}
    <tr>
        <td width='30'>&nbsp;</td>
        {if $_e.label != ''}
            <td width='200'>{$_e.label} {if $_e.required}<font color="red">*</font>{/if}</td>
	        <td width='100%'>
	            {$_e.html}
	        </td>
        {else}
            <td colspan="2">
                {$_e.html}
            </td>
        {/if}
        
        
    </tr>

{/if}

{if $_e.type == 'submit'}
    {if $_e.parent_tag == 'controls'}
        <input type='submit' name="{$_e.name|escape}" id="{$_e.name|escape}" value="{$_e.value|escape}"  {if $_e.disabled} disabled="disabled"{/if} />
    
    {else}
    <tr>
        <td width='30'>&nbsp;</td>
        <td colspan='2'>
            <input type='submit' name="{$_e.name|escape}" id="{$_e.name|escape}" value="{$_e.value|escape}"  {if $_e.disabled} disabled="disabled"{/if} />
        </td>
    </tr>
    {/if}
    
{/if}

{if $_e.type == 'custom'}
    {include file=$oaTemplateDir|cat:'form/custom-'|cat:$_e.name|cat:'.html'}
{/if}

{if $_e.type == 'plugin-custom'}
    {include file=$pluginBaseDir|cat:$_e.plugin|cat:$pluginTemplateDir|cat:$_e.name|cat:'.html'}
{/if}

{if $_e.type == 'script'}
    {include file=$oaTemplateDir|cat:'form/script-'|cat:$_e.name|cat:'.html'}
{/if}

{if $_e.type == 'plugin-script'}
    {include file=$pluginBaseDir|cat:$_e.plugin|cat:$pluginTemplateDir|cat:$_e.name|cat:'.html'}
{/if}

